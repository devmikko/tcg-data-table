<link rel="import" href="../polymer/polymer.html">
<!-- You can import core and paper elements -->
<link rel="import" href="../core-ajax/core-ajax.html">
<link rel="import" href="tcg-data-table.html">
<link rel="import" href="../polymer-jsonp/polymer-jsonp.html">

<!-- 
Here's where you'll define your element. You can define multiple elements
if you want, but the package name will be taken from the first custom
element you define in the file. You can also document your element! For
more info, see [the docs](https://ele.io/docs).

@element agreeable-citrus
-->
<polymer-element name="dribbble-data" attributes="name">
  <template>
      <polymer-jsonp id="ajax" auto url="http://api.dribbble.com/shots/everyone?per_page={{ per_page }}&pages=30&callback=" response="{{shots}}"></polymer-jsonp>

      <tcg-data-table data="{{ data }}" columns="{{ columns }}" perPage="{{ per_page }}"></tcg-data-table>

  </template>
  <script>
    Polymer('dribbble-data', {
      /**
       * The name of the person you want to say hello to.
       * @attribute name
       * @type string
       * @default "Polymer Dev"
       */
      name: 'Polymer Dev',
      per_page: 15,
      observe: {
        'shots': 'shotsChanged',
      },
      shots: [],
      columns : [
            { "title" : "ID", "data": "id" },
            { "title" : "Title", "data": "title" },
            { "title" : "URL", "data": "url" }
        ],
      data:  [],
      

      ready: function() {

      },

      shotsChanged: function(){
        this.data = this.shots.shots;
      },  

      dribbbleResponse: function(evt, res){
        console.log(res);
      },

      domReady: function(){
        
      },
    });
  </script>
</polymer-element>